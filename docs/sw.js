self.addEventListener("push",(i=>{const t=i.data?i.data.json():{},o=t.title||"StoryApp",n={body:t.body||"Notifikasi baru dari StoryApp!",icon:"/images/logo.png",badge:"/images/logo.png",data:t.url||"/"};i.waitUntil(self.registration.showNotification(o,n))})),self.addEventListener("notificationclick",(i=>{i.notification.close(),i.waitUntil(clients.matchAll({type:"window"}).then((t=>{for(const o of t)if(o.url===i.notification.data&&"focus"in o)return o.focus();if(clients.openWindow)return clients.openWindow(i.notification.data)})))}));