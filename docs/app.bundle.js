(()=>{"use strict";var e,t={177:(e,t,n)=>{n.d(t,{A:()=>s});var a=n(601),i=n.n(a),r=n(314),o=n.n(r)()(i());o.push([e.id,"// extracted by mini-css-extract-plugin\nexport {};",""]);const s=o},213:(e,t,n)=>{function a(e){const t=(e+"=".repeat((4-e.length%4)%4)).replace(/-/g,"+").replace(/_/g,"/"),n=atob(t),a=new Uint8Array(n.length);for(let e=0;e<n.length;e++)a[e]=n.charCodeAt(e);return a}const i="https://story-api.dicoding.dev/v1",r=class{static TOKEN_KEY="token";static saveToken(e){localStorage.setItem(this.TOKEN_KEY,e)}static getToken(){return localStorage.getItem(this.TOKEN_KEY)}static isLoggedIn(){const e=this.getToken();return e&&e.length>0}static requireAuth(){return!!this.isLoggedIn()||(window.location.hash="#/login",!1)}static logout(){localStorage.removeItem(this.TOKEN_KEY),window.location.hash="#/login",window.dispatchEvent(new HashChangeEvent("hashchange"))}},o={SUBSCRIBE:`${i}/push/web/subscribe`,UNSUBSCRIBE:`${i}/push/web/unsubscribe`};async function s(){if(!("serviceWorker"in navigator))return console.warn("Browser tidak mendukung Service Worker."),null;try{return await navigator.serviceWorker.ready}catch(e){return console.error("‚ùå Service Worker belum siap:",e),null}}async function c(){return!!await async function(){const e=await s();return e?await e.pushManager.getSubscription():null}()}async function l(){if(!await async function(){return"Notification"in window?"granted"===Notification.permission||"granted"===await Notification.requestPermission()||(alert("Izin notifikasi belum diberikan."),!1):(alert("Browser tidak mendukung Notification API."),!1)}())return!1;const e=await s();if(!e)return alert("Service Worker belum siap. Refresh halaman."),!1;try{console.log("üîî Mencoba subscribe push notification...");const t=await e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:a("BCCs2eonMI-6H2ctvFaWg-UYdDv387Vno_bzUzALpB442r2lCnsHmtrx8biyPi_E-1fSGABK_Qs_GlvPoJJqxbk")}),{endpoint:n,keys:i}=t.toJSON(),s=await async function({endpoint:e,keys:t}){const n=r.getToken?.(),a=JSON.stringify({endpoint:e,keys:t}),i=await fetch(o.SUBSCRIBE,{method:"POST",headers:{"Content-Type":"application/json",...n?{Authorization:`Bearer ${n}`}:{}},body:a});return{...await i.json(),ok:i.ok}}({endpoint:n,keys:i});return s.ok?(alert("‚úÖ Notifikasi berhasil diaktifkan!"),!0):(console.error("‚ùå Gagal kirim subscription ke server:",s),await t.unsubscribe(),alert("Langganan push gagal diaktifkan."),!1)}catch(e){return console.error("‚ùå Error saat subscribe:",e),alert("Gagal mengaktifkan notifikasi."),!1}}var d=n(72),u=n.n(d),p=n(825),m=n.n(p),g=n(659),h=n.n(g),y=n(56),f=n.n(y),b=n(540),w=n.n(b),v=n(113),k=n.n(v),S=n(177),L={};L.styleTagTransform=k(),L.setAttributes=f(),L.insert=h().bind(null,"head"),L.domAPI=m(),L.insertStyleElement=w(),u()(S.A,L),S.A&&S.A.locals&&S.A.locals;const x="https://story-api.dicoding.dev/v1";function T(){return localStorage.getItem("token")||""}const E=new class{async getStories(){const e=await fetch(`${x}/stories`,{headers:{Authorization:`Bearer ${T()}`}}),t=await e.json();if(!e.ok)throw new Error(t.message);return t.listStory}async addStory({description:e,photo:t,lat:n,lon:a}){const i=new FormData;i.append("description",e),n&&a&&(i.append("lat",n),i.append("lon",a)),i.append("photo",t);const r=await fetch(`${x}/stories`,{method:"POST",headers:{Authorization:`Bearer ${T()}`},body:i}),o=await r.json();if(!r.ok)throw new Error(o.message);return o}async getStoryDetail(e){const t=await fetch(`${x}/stories/${e}`,{headers:{Authorization:`Bearer ${T()}`}}),n=await t.json();if(!t.ok)throw new Error(n.message);return n}async getStoryById(e){const t=await fetch(`${x}/stories/${e}`,{headers:{Authorization:`Bearer ${T()}`}}),n=await t.json();if(!t.ok)throw new Error(n.message);return n.story}};var $=n(481),q=n.n($);n(303);const A=async function({email:e,password:t}){const n=await fetch(`${x}/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t})}),a=await n.json();if(!n.ok)throw new Error(a.message);return a},D=async function({name:e,email:t,password:n}){const a=await fetch(`${x}/register`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:e,email:t,password:n})}),i=await a.json();if(!a.ok)throw new Error(i.message);return i},P={"/":new class{async render(){return'\n      <section class="home-page container">\n        <h1>Daftar Cerita</h1>\n        <div id="loading" class="loading-spinner"></div>\n        <div id="story-list" class="story-list"></div>\n        <div id="error-message" class="error"></div>\n      </section>\n    '}async afterRender(){if(!r.requireAuth())return;const e=document.querySelector("#story-list"),t=document.querySelector("#loading"),n=document.querySelector("#error-message");try{t.style.display="block",n.textContent="";const a=await E.getStories();if(t.style.display="none",!a||0===a.length)return void(e.innerHTML="<p>Tidak ada cerita yang tersedia.</p>");e.innerHTML=a.map((e=>`\n            <article class="story-item">\n              <img src="${e.photoUrl}" alt="Foto dari ${e.name}" class="story-thumb" />\n              <div class="story-info">\n                <h2>${e.name}</h2>\n                <p>${e.description}</p>\n                <button class="btn-detail" data-id="${e.id}">Lihat Detail</button>\n                <div id="detail-${e.id}" class="story-extra hidden"></div>\n              </div>\n            </article>\n          `)).join(""),document.querySelectorAll(".btn-detail").forEach((e=>{e.addEventListener("click",(async e=>{const t=e.target.dataset.id,n=document.querySelector(`#detail-${t}`);if(!n.classList.contains("hidden"))return n.innerHTML="",n.classList.add("hidden"),void(e.target.textContent="Lihat Detail");n.innerHTML="<p>Sedang memuat detail...</p>",n.classList.remove("hidden");try{const a=(await E.getStoryDetail(t)).story;n.innerHTML=`\n              <div class="story-detail-inline">\n                <p><b>Tanggal:</b> ${new Date(a.createdAt).toLocaleString()}</p>\n                ${a.lat&&a.lon?`<p><b>Lokasi:</b> ${a.lat}, ${a.lon}</p>`:"<p><i>Lokasi tidak tersedia</i></p>"}\n                <a href="#/detail/${a.id}" class="link-page-detail">Buka Halaman Detail</a>\n              </div>\n            `,e.target.textContent="Sembunyikan Detail"}catch(e){n.innerHTML=`<p class="error">Gagal memuat detail: ${e.message}</p>`}}))}))}catch(e){t.style.display="none",n.textContent=`Gagal memuat cerita: ${e.message}`}}},"/about":new class{async render(){return'\n      <section class="container about-section">\n        <div class="about-card">\n          <h1>Tentang Aplikasi StoryApp</h1>\n          <p>\n            <strong>StoryApp</strong> adalah aplikasi berbasis web yang memungkinkan pengguna untuk membagikan cerita\n            mereka melalui foto dan deskripsi singkat. Setiap cerita dapat dilengkapi dengan lokasi GPS agar pengguna lain\n            dapat mengetahui dari mana kisah tersebut berasal.\n          </p>\n          <p>\n            Aplikasi ini dibangun menggunakan teknologi modern seperti <strong>JavaScript ES6, Webpack, dan Leaflet.js</strong> \n            untuk peta interaktif. Data pengguna dan cerita dikelola secara aman melalui API yang disediakan oleh platform Dicoding.\n          </p>\n          <p>\n            Dengan StoryApp, kami ingin memberikan ruang bagi setiap orang untuk berbagi pengalaman, inspirasi,\n            dan kisah menarik dari berbagai tempat di seluruh dunia.\n          </p>\n          <div class="about-highlight">\n            <p><strong>üë®‚Äçüíª Pengembang:</strong> Muhammad Dzikra Ramadhan</p>\n            <p><strong>üåê Teknologi:</strong> JavaScript, Webpack, Leaflet.js, Dicoding API</p>\n            <p><strong>üìÖ Tahun:</strong> 2025</p>\n          </div>\n        </div>\n      </section>\n    '}async afterRender(){}},"/map":new class{async render(){return'\n      <section class="map-page container">\n        <h1>Halaman Peta</h1>\n        <p>Peta menampilkan lokasi semua cerita pengguna yang menyertakan GPS.</p>\n        <div id="stories-map" style="height: 480px; border-radius: 10px; margin-top: 1rem;"></div>\n      </section>\n    '}async afterRender(){if(!r.requireAuth())return;const e=document.getElementById("stories-map"),t=q().map(e).setView([-2.5,118],5);q().tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:"&copy; OpenStreetMap contributors"}).addTo(t);const n=q().icon({iconUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon.png",shadowUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]});try{const a=await E.getStories(),i=[];if(a.filter((e=>e.lat&&e.lon)).forEach((e=>{const a=q().marker([e.lat,e.lon],{icon:n}).addTo(t);a.bindPopup(`\n            <div style="min-width:160px">\n              <strong>${e.name}</strong><br>\n              ${e.description}<br>\n              <small><em>${new Date(e.createdAt).toLocaleDateString("id-ID")}</em></small><br>\n              <a href="#/detail/${e.id}" style="color:#2b6cb0;text-decoration:none;font-weight:600;">Lihat Detail</a>\n            </div>\n          `),i.push(a)})),i.length>0){const e=q().featureGroup(i);t.fitBounds(e.getBounds().pad(.2))}else e.innerHTML='<p class="error">Belum ada cerita dengan lokasi GPS.</p>'}catch(t){e.innerHTML=`<p class="error">Gagal memuat peta: ${t.message}</p>`}}},"/add":new class{async render(){return'\n      <section class="container">\n        <div class="add-form-container">\n          <h1>Tambah Cerita Baru</h1>\n          <form id="add-story-form" class="add-form">\n            <div>\n              <label for="description">Deskripsi Cerita</label>\n              <textarea id="description" name="description" placeholder="Tulis ceritamu di sini..." required></textarea>\n            </div>\n\n            <div>\n              <label for="photo">Pilih Foto</label>\n              <div style="display: flex; align-items: center; gap: 10px; flex-wrap: wrap;">\n                <input type="file" id="photo" name="photo" accept="image/*" />\n                <button type="button" id="open-camera" class="btn-secondary">üì∏ Gunakan Kamera</button>\n              </div>\n\n              \x3c!-- Preview kamera --\x3e\n              <div id="camera-container" style="display:none; margin-top:1rem; text-align:center;">\n                <video id="camera-stream" autoplay playsinline style="width:100%; max-height:280px; border-radius:8px; background:#000;"></video>\n                <canvas id="camera-capture" style="display:none;"></canvas>\n                <div style="margin-top:0.8rem; display:flex; justify-content:center; gap:10px; flex-wrap:wrap;">\n                  <button type="button" id="capture-btn" class="btn-primary">Ambil Foto</button>\n                  <button type="button" id="close-camera" class="btn-danger">Tutup Kamera</button>\n                </div>\n              </div>\n\n              \x3c!-- Preview gambar hasil --\x3e\n              <div id="photo-preview" style="display:none; margin-top:1rem; text-align:center;">\n                <p style="margin-bottom:0.5rem; color:#164863; font-weight:600;">Preview Gambar</p>\n                <img id="preview-img" src="" alt="Preview Foto" style="max-width:100%; max-height:300px; border-radius:10px; box-shadow:0 2px 8px rgba(0,0,0,0.1);" />\n              </div>\n            </div>\n\n            \x3c!-- Peta untuk memilih lokasi --\x3e\n            <div style="margin-top:1.5rem;">\n              <label for="map-preview">Pilih Lokasi di Peta</label>\n              <div id="map-preview" class="map" style="height:300px; border-radius:8px; margin-top:0.5rem;"></div>\n            </div>\n\n            <p id="message" class="hidden" style="margin-top:1rem;"></p>\n            <button type="submit" class="btn-submit">Kirim Cerita</button>\n          </form>\n        </div>\n      </section>\n    '}async afterRender(){if(!r.requireAuth())return;const e=document.querySelector("#add-story-form"),t=document.querySelector("#message"),n=document.querySelector("#map-preview"),a=document.querySelector("#open-camera"),i=document.querySelector("#camera-container"),o=document.querySelector("#camera-stream"),s=document.querySelector("#capture-btn"),c=document.querySelector("#close-camera"),l=document.querySelector("#camera-capture"),d=document.querySelector("#photo"),u=document.querySelector("#photo-preview"),p=document.querySelector("#preview-img");let m=null;const g=e=>{p.src=e,u.style.display="block"},h=()=>{m&&(m.getTracks().forEach((e=>e.stop())),m=null),o.srcObject=null,i.style.display="none"};window.addEventListener("hashchange",h),window.addEventListener("beforeunload",h),a.addEventListener("click",(async()=>{try{m=await navigator.mediaDevices.getUserMedia({video:!0}),o.srcObject=m,i.style.display="block"}catch{alert("Tidak dapat mengakses kamera. Pastikan izin kamera diaktifkan.")}})),s.addEventListener("click",(()=>{const e=l.getContext("2d");l.width=o.videoWidth,l.height=o.videoHeight,e.drawImage(o,0,0,l.width,l.height),l.toBlob((e=>{const t=new File([e],"photo.jpg",{type:"image/jpeg"}),n=new DataTransfer;n.items.add(t),d.files=n.files;const a=URL.createObjectURL(e);g(a)}),"image/jpeg",.9),t.textContent="Foto berhasil diambil dari kamera!",t.classList.remove("hidden","error"),t.classList.add("success")})),d.addEventListener("change",(e=>{const t=e.target.files[0];if(t){const e=URL.createObjectURL(t);g(e)}})),c.addEventListener("click",h);let y={lat:null,lon:null},f=null;const b=q().map(n).setView([-6.2,106.8],10);q().tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:"&copy; OpenStreetMap contributors"}).addTo(b);const w=q().icon({iconUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon.png",shadowUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]});b.on("click",(e=>{const{lat:n,lng:a}=e.latlng;f&&f.remove(),f=q().marker([n,a],{icon:w}).addTo(b).bindPopup(`Lokasi dipilih:<br>${n.toFixed(4)}, ${a.toFixed(4)}`).openPopup(),y={lat:n,lon:a},t.textContent=`Lokasi dipilih: (${n.toFixed(4)}, ${a.toFixed(4)})`,t.classList.remove("hidden","error"),t.classList.add("success")})),e.addEventListener("submit",(async e=>{e.preventDefault();const n=document.querySelector("#description").value.trim(),a=document.querySelector("#photo").files[0];if(!n||!a)return t.textContent="Lengkapi semua data sebelum mengirim!",t.classList.remove("hidden"),void t.classList.add("error");if(!y.lat||!y.lon)return t.textContent="Klik lokasi di peta terlebih dahulu!",t.classList.remove("hidden"),void t.classList.add("error");t.textContent="Mengirim cerita...",t.classList.remove("error","success","hidden");try{await E.addStory({description:n,photo:a,lat:y.lat,lon:y.lon}),t.textContent="Cerita berhasil dikirim!",t.classList.add("success"),h(),setTimeout((()=>window.location.hash="#/"),1500)}catch(e){t.textContent=`Gagal: ${e.message}`,t.classList.add("error")}}))}},"/login":new class{async render(){return'\n      <section class="auth-page">\n        <div class="auth-card">\n          <h1>Masuk ke Akun Anda</h1>\n          <form id="login-form" class="auth-form">\n            <div class="form-group">\n              <label for="email">Email</label>\n              <input type="email" id="email" required />\n            </div>\n\n            <div class="form-group">\n              <label for="password">Password</label>\n              <input type="password" id="password" required />\n            </div>\n\n            <button type="submit" class="btn-primary">Masuk</button>\n            <p id="login-message" class="error"></p>\n\n            <p class="auth-link">Belum punya akun? \n              <a href="#/register">Daftar di sini</a>\n            </p>\n          </form>\n        </div>\n      </section>\n    '}async afterRender(){const e=document.querySelector("#login-form"),t=document.querySelector("#login-message");e&&e.addEventListener("submit",(async e=>{e.preventDefault();const n=document.querySelector("#email").value,a=document.querySelector("#password").value;try{const e=await A({email:n,password:a});localStorage.setItem("token",e.loginResult.token),t.innerHTML='<span class="success">Login berhasil!</span>',setTimeout((()=>{window.location.hash="#/"}),1e3)}catch(e){console.error(e),t.innerHTML='<span class="error">Email atau password salah!</span>'}}))}},"/register":new class{async render(){return'\n      <section class="auth-page">\n        <div class="auth-card">\n          <h1>Buat Akun Baru</h1>\n          <form id="register-form" class="auth-form">\n            <div class="form-group">\n              <label for="name">Nama Lengkap</label>\n              <input type="text" id="name" required />\n            </div>\n\n            <div class="form-group">\n              <label for="email">Email</label>\n              <input type="email" id="email" required />\n            </div>\n\n            <div class="form-group">\n              <label for="password">Password</label>\n              <input type="password" id="password" required />\n            </div>\n\n            <button type="submit" class="btn-primary">Daftar</button>\n            <p id="register-message" class="error"></p>\n\n            <p class="auth-link">Sudah punya akun?\n              <a href="#/login">Masuk di sini</a>\n            </p>\n          </form>\n        </div>\n      </section>\n    '}async afterRender(){const e=document.querySelector("#register-form"),t=document.querySelector("#register-message");e&&e.addEventListener("submit",(async e=>{e.preventDefault();const n=document.querySelector("#name").value.trim(),a=document.querySelector("#email").value.trim(),i=document.querySelector("#password").value.trim();t.innerHTML="";try{await D({name:n,email:a,password:i}),t.innerHTML='<span class="success">Pendaftaran berhasil! Mengarahkan ke halaman login...</span>',setTimeout((()=>{window.location.hash="#/login"}),1500)}catch(e){console.error(e),t.innerHTML=`<span class="error">Gagal daftar: ${e.message||"Periksa data Anda."}</span>`}}))}},"/detail/:id":new class{async render(){return'\n      <section class="detail-page container">\n        <div id="story-detail" class="story-detail">Memuat detail cerita...</div>\n      </section>\n    '}async afterRender(){if(!r.requireAuth())return;const e=document.querySelector("#story-detail"),t=window.location.hash.split("/")[2];try{const n=await E.getStoryById(t),a=new Date(n.createdAt).toLocaleString("id-ID",{dateStyle:"full",timeStyle:"short"});if(e.innerHTML=`\n        <div class="story-detail-card">\n          <img src="${n.photoUrl}" alt="${n.name}" class="story-detail-thumb" />\n\n\n          <div class="story-info">\n            <h1>${n.name}</h1>\n            <p>${n.description}</p>\n\n            <p><strong>Tanggal:</strong> ${a}</p>\n            ${n.lat&&n.lon?`<p><strong>Lokasi:</strong> ${n.lat}, ${n.lon}</p>`:"<p><em>Lokasi tidak tersedia</em></p>"}\n\n            ${n.lat&&n.lon?'<div id="map-detail" style="height: 250px; margin-top: 1rem; border-radius: 8px;"></div>':""}\n\n            <button id="back-button" class="btn-primary" style="margin-top: 1rem;">‚Üê Kembali ke Beranda</button>\n          </div>\n        </div>\n      `,n.lat&&n.lon){const e=q().map("map-detail").setView([n.lat,n.lon],14);q().tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:"&copy; OpenStreetMap contributors"}).addTo(e);const t=q().icon({iconUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon.png",shadowUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]});q().marker([n.lat,n.lon],{icon:t}).addTo(e).bindPopup(`<b>${n.name}</b><br>${n.description}`).openPopup()}document.querySelector("#back-button").addEventListener("click",(()=>{window.location.hash="#/"}))}catch(t){e.innerHTML=`<p class="error">Gagal memuat detail: ${t.message}</p>`}}}};const B=class{#e=null;#t=null;#n=null;constructor({navigationDrawer:e,drawerButton:t,content:n}){this.#e=n,this.#t=t,this.#n=e,this._setupDrawer(),this._updateNavbarVisibility()}_setupDrawer(){this.#t.addEventListener("click",(()=>{this.#n.classList.toggle("open")})),document.body.addEventListener("click",(e=>{this.#n.contains(e.target)||this.#t.contains(e.target)||this.#n.classList.remove("open"),this.#n.querySelectorAll("a").forEach((t=>{t.contains(e.target)&&this.#n.classList.remove("open")}))}))}async renderPage(){const e=localStorage.getItem("token"),t=function(e){let t="";return e.resource&&(t=t.concat(`/${e.resource}`)),e.id&&(t=t.concat("/:id")),t||"/"}(function(e){const t=e.split("/");return{resource:t[1]||null,id:t[2]||null}}(location.hash.replace("#","")||"/"));if(!e&&"/login"!==t&&"/register"!==t)return void(window.location.hash="#/login");const n=P[t]||P["/"];this.#e.innerHTML=await n.render(),await n.afterRender(),this._setupLogout(),this._updateNavbarVisibility()}_updateNavbarVisibility(){const e=localStorage.getItem("token"),t=this.#n,n=this.#t;e?(t.style.display="flex",n.style.display="block"):(t.style.display="none",n.style.display="none")}_setupLogout(){const e=document.querySelector("#logout-button");e&&e.addEventListener("click",(e=>{e.preventDefault(),localStorage.removeItem("token"),window.location.hash="#/login",window.dispatchEvent(new HashChangeEvent("hashchange"))}))}};document.addEventListener("DOMContentLoaded",(async()=>{const e=new B({navigationDrawer:document.querySelector("#navigation-drawer"),drawerButton:document.querySelector("#drawer-button"),content:document.querySelector("#main-content")});await e.renderPage(),async function(e="#notif-toggle"){const t=document.querySelector(e);if(!t)return;t.innerHTML='\n    <button id="btn-notif" class="notif-btn notif-inactive">Aktifkan Notifikasi</button>\n    <small id="notif-status" class="notif-status">üîï Notifikasi nonaktif.</small>\n  ';const n=t.querySelector("#btn-notif"),a=t.querySelector("#notif-status");async function i(){await c()?(n.textContent="Nonaktifkan Notifikasi",n.classList.add("notif-active"),n.classList.remove("notif-inactive"),a.textContent="üîî Notifikasi aktif.",n.setAttribute("aria-pressed","true")):(n.textContent="Aktifkan Notifikasi",n.classList.add("notif-inactive"),n.classList.remove("notif-active"),a.textContent="üîï Notifikasi nonaktif.",n.setAttribute("aria-pressed","false"))}n.addEventListener("click",(async()=>{n.disabled=!0;try{(await c()?await async function(){const e=await s();if(!e)return alert("Service Worker belum siap."),!1;try{const t=await e.pushManager.getSubscription();if(!t)return alert("Tidak ada langganan aktif."),!0;const{endpoint:n}=t.toJSON();await t.unsubscribe();const a=await async function({endpoint:e}){const t=r.getToken?.(),n=JSON.stringify({endpoint:e}),a=await fetch(o.UNSUBSCRIBE,{method:"DELETE",headers:{"Content-Type":"application/json",...t?{Authorization:`Bearer ${t}`}:{}},body:n});return{...await a.json(),ok:a.ok}}({endpoint:n});return a.ok?(alert("üö´ Notifikasi dinonaktifkan."),!0):(console.error("‚ùå Gagal hapus subscription di server:",a),alert("Gagal menonaktifkan notifikasi."),!1)}catch(e){return console.error("‚ùå Error saat unsubscribe:",e),alert("Gagal menonaktifkan notifikasi."),!1}}():await l())&&await i()}finally{n.disabled=!1}})),await i()}("#notif-toggle"),window.addEventListener("hashchange",(async()=>{await e.renderPage()})),window.addEventListener("load",(async()=>{await e.renderPage()}))})),"serviceWorker"in navigator&&window.addEventListener("load",(()=>{navigator.serviceWorker.register("/service-worker.js").then((()=>console.log("‚úÖ Service Worker registered"))).catch((e=>console.error("‚ùå Service Worker registration failed:",e)))}))}},n={};function a(e){var i=n[e];if(void 0!==i)return i.exports;var r=n[e]={id:e,exports:{}};return t[e].call(r.exports,r,r.exports,a),r.exports}a.m=t,e=[],a.O=(t,n,i,r)=>{if(!n){var o=1/0;for(d=0;d<e.length;d++){for(var[n,i,r]=e[d],s=!0,c=0;c<n.length;c++)(!1&r||o>=r)&&Object.keys(a.O).every((e=>a.O[e](n[c])))?n.splice(c--,1):(s=!1,r<o&&(o=r));if(s){e.splice(d--,1);var l=i();void 0!==l&&(t=l)}}return t}r=r||0;for(var d=e.length;d>0&&e[d-1][2]>r;d--)e[d]=e[d-1];e[d]=[n,i,r]},a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},a.d=(e,t)=>{for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={524:0};a.O.j=t=>0===e[t];var t=(t,n)=>{var i,r,[o,s,c]=n,l=0;if(o.some((t=>0!==e[t]))){for(i in s)a.o(s,i)&&(a.m[i]=s[i]);if(c)var d=c(a)}for(t&&t(n);l<o.length;l++)r=o[l],a.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return a.O(d)},n=self.webpackChunkapp_starter_project_with_webpack=self.webpackChunkapp_starter_project_with_webpack||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),a.nc=void 0;var i=a.O(void 0,[55],(()=>a(213)));i=a.O(i)})();